<head>

<script type="text/javascript">
var absa_input=false;
var ahw_input=false;
var ad_input=false;
function SelectForm(){
	absa_input = document.getElementById("AgeBSARadio").checked;
    ahw_input = document.getElementById("AgeHeightWeightRadio").checked;
	//ad_input = document.getElementById("AgeDiameterRadio").checked;
	
	if(absa_input)
    {
		document.getElementById("div_absa").style.display= "inline";
		document.getElementById("div_ahw").style.display= "none" ;
		document.getElementById("div_ad").style.display= "none" ;
    }
    else if(ahw_input)
    {
		document.getElementById("div_absa").style.display= "none";
		document.getElementById("div_ahw").style.display= "inline" ;
		document.getElementById("div_ad").style.display= "none" ;
    }
	else if(ad_input)
    {
		document.getElementById("div_absa").style.display= "none";
		document.getElementById("div_ahw").style.display= "none" ;
		document.getElementById("div_ad").style.display= "inline" ;
    }
}

function Update()
{
	if(absa_input)
    {
		//console.log("Updating using ABSA function.");
		CalculateABSA();
    }
    else if(ahw_input)
    {
		//console.log("Updating using AHW function.");
		CalculateAHW();
    }
	else if(ad_input)
    {
		console.log("Updating using AD function.");
    }
}

function CalculateABSA(){
	var Age = parseFloat(document.getElementById("Age").value);
    var BSA = parseFloat(document.getElementById("BSA_ABSA").value);
	var ismale = document.getElementById("SexMan").checked;
	document.getElementById("CalculationResult").innerHTML = Calculate(Age,BSA,ismale);
}

function CalculateAHW()
{
	var Age = parseFloat(document.getElementById("Age").value);
	var Height = parseFloat(document.getElementById("height_AHW").value);
	var Weight = parseFloat(document.getElementById("weight_AHW").value);
	var coef1 =0.007184;
	var coef_weight =0.425;
	var coef_height =0.725;
    var BSA = coef1*Math.pow(Weight,coef_weight)*Math.pow(Height,coef_height);
	//console.log(BSA);
	var ismale = document.getElementById("SexMan").checked;
	document.getElementById("CalculationResult").innerHTML = Calculate(Age,BSA,ismale);
}

function Calculate(Age, BSA, ismale) {   
  	var text;
	
    var alpha_AAo=0;
    var beta_AAo=0;
    var gamma_AAo=0;
    var delta_AAo=0;
	var alpha_Sinus=0;
    var beta_Sinus=0;
    var gamma_Sinus=0;
    var delta_Sinus=0;
    if(ismale)
    {
    	var Sex = "man";
    	alpha_AAo = 1.691;
    	beta_AAo = 0.028;
    	gamma_AAo = -0.00009;
    	delta_AAo = 0.505;
		
		alpha_Sinus=2.25;
		beta_Sinus=0.023;
		gamma_Sinus=-0.00014;
		delta_Sinus=0.486;
    }
    else
    {
    	var Sex = "woman";
    	alpha_AAo = 1.614;
    	beta_AAo = 0.028;
    	gamma_AAo = -0.00012;
    	delta_AAo = 0.525;
		
		alpha_Sinus=2.145;
		beta_Sinus=0.021;
		gamma_Sinus=-0.00014;
		delta_Sinus=0.448;
    }
    
    var AA95th = alpha_AAo + Age*beta_AAo + Age*Age*gamma_AAo + BSA*delta_AAo;
	var Sinus95th = alpha_Sinus + Age*beta_Sinus + Age*Age*gamma_Sinus + BSA*delta_Sinus;

    text = "For a ";
    text = text + "<b><font color=\"#42f4eb\">" + Age.toFixed(0) + "</font></b> year old <font color=\"#42f4eb\">" + Sex + "</font>";
    text = text + " with a body surface area of <b><font color=\"#42f4eb\">" + BSA.toFixed(2) + "</font></b> m<sup>2</sup>:<br>";
    text = text + "Ascending aortic diameter 95<sup>th</sup> percentile is <b><font color=\"#edca4e\">" + AA95th.toFixed(2) + "</font></b> cm.<br>";
	text = text + "Sinus of Valsalva diameter 95<sup>th</sup> percentile is <b><font color=\"#edca4e\">" + Sinus95th.toFixed(2) + "</font></b> cm.";
    return text;
}

function Initialize()
{
	window.SelectForm();
	window.Update();
}

</script>

</head>

<body bgcolor="#000000" text="#ffffff">

<div>
Select input type:
<form id="form_inputstyle"  onchange="SelectForm()">
<input id="AgeBSARadio" checked="checked" name="inputstyle" type="radio" value="absa" class="radio_style"> Age and BSA <br>
<input id="AgeHeightWeightRadio" name="inputstyle" type="radio" value="ahw" class="radio_style"> Age, Height, and Weight <br> 
<!-- <input id="AgeDiameterRadio" name="inputstyle" type="radio" value="ad" class="radio_style"> Age and Aortic Diameter <br> -->
</form>
</div>

<br>
<br>

<form id="form_age" onchange="Update()">
Age:
<input id="Age" type="number" step="any" value="60"  class="tb_style"/> years<br><br>
<input type="submit" disabled="true" style="display:none">
</form>

<div id="div_absa">
<form id="form_absa" onchange="Update()">
Body surface area:
<input id="BSA_ABSA"  type="number" step="any" value="2.0" class="tb_style"/> m<sup>2</sup><br>
<input type="submit" disabled="true" style="display:none">
</form>
</div>

<div id="div_ahw">
<form id="form_ahw" onchange="Update()">
Height:
<input id="height_AHW"  type="number" step="any" value="180" class="tb_style"/> cm<br><br>
Weight:
<input id="weight_AHW"  type="number" step="any" value="70" class="tb_style"/> kg<br>
<input type="submit" disabled="true" style="display:none">
</form>
</div>

<div id="div_ad">
<form id="form_ad" onchange="Update()">
Ascending aortic diameter:
<input id="aad_ad"  type="number" step="any" value="180" class="tb_style"/> cm<br>
<input type="submit" disabled="true" style="display:none">
</form>
</div>

<div>
<form id="form_sex"  onchange="Update()">
<input id="SexMan" name="Sex" type="radio" value="man" class="radio_style"> Man <br>
<input id="SexWoman" checked="checked" name="Sex" type="radio" value="woman" class="radio_style"> Woman <br> 
</form>
</div>

<p id="CalculationResult"></p>

<br>
<br>

<div>
Sources:
[1] P. Biaggi, F. Matthews, J. Braun, V. Rousson, P. A. Kaufmann, and R. Jenni, "Gender, Age, and Body Surface Area are the Major Determinants of Ascending Aorta Dimensions in Subjects With Apparently Normal Echocardiograms," Journal of the American Society of Echocardiography, vol. 22, no. 6, pp. 720-725, Jun. 2009.
</div>

<br>
<br>

<div>
Disclaimer: All calculations should be confirmed by comparison to the referenced data. The author makes no claims of the accuracy or utility of the referenced data. This tool should not be used alone to guide patient care or as a substitute for clinical judgment. Reliance upon this tool is solely at the user's risk. The author assumes no liability or responsibility for damage or injury arising from any use of this tool.
</div>


<script type="text/javascript">
window.Initialize();
</script>
</body>